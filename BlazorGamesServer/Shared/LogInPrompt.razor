@using BlazorGamesServer.Data

<h3>LogInPrompt</h3>

<label>
    Username:
    <input @bind="userName" size="20" required />
</label>
<button type="button" @onclick="logInSubmit">Log In</button>

@code {
    private string? userName;

    private async Task logInSubmit()
    {
        var userState = await ProtectedSessionStore.GetAsync<User>("user");
        if (userState.Success)
        {
            userState.Value?.SetName(userName);
            await ProtectedSessionStore.SetAsync("user", userState.Value);
            StateHasChanged();
        }
    }
}
